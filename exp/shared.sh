#!/bin/bash

DPDK_NIC=ens1f0
CONTROLLER_ETHER=1E:CF:16:43:AF:95
CLIENT1_ETHER=1E:CF:16:43:AF:94
SERVER1_ETHER=1E:CF:16:43:AF:96
SERVER2_ETHER=1E:CF:16:43:AF:97
SERVER1_IP=10.10.2.1
SERVER2_IP=10.10.2.2
SERVER3_IP=10.10.2.3
SERVER4_IP=10.10.2.4
SERVER5_IP=10.10.2.5
SERVER6_IP=10.10.2.6
SERVER7_IP=10.10.2.7
SERVER8_IP=10.10.2.8
SERVER9_IP=10.10.2.9
SERVER10_IP=10.10.2.10
SERVER11_IP=10.10.2.11
SERVER12_IP=10.10.2.12
SERVER13_IP=10.10.2.13
SERVER14_IP=10.10.2.14
SERVER15_IP=10.10.2.15
SERVER16_IP=10.10.2.16
SERVER17_IP=10.10.2.17
SERVER18_IP=10.10.2.18
SERVER19_IP=10.10.2.19
SERVER20_IP=10.10.2.20
SERVER21_IP=10.10.2.21
SERVER22_IP=10.10.2.22
SERVER23_IP=10.10.2.23
SERVER24_IP=10.10.2.24
SERVER25_IP=10.10.2.25
SERVER26_IP=10.10.2.26
SERVER27_IP=10.10.2.27
SERVER28_IP=10.10.2.28
SERVER29_IP=10.10.2.29
SERVER30_IP=10.10.2.32
SERVER31_IP=10.10.2.31

SERVER32_IP=10.10.2.30
SERVER33_IP=10.10.2.33
SERVER34_IP=10.10.2.34
SERVER35_IP=10.10.2.35
SERVER36_IP=10.10.2.36
SERVER37_IP=10.10.2.37
SERVER38_IP=10.10.2.38
SERVER39_IP=10.10.2.39
SERVER40_IP=10.10.2.40

SERVER_IPS=( $SERVER1_IP $SERVER2_IP $SERVER3_IP $SERVER4_IP $SERVER5_IP $SERVER6_IP $SERVER7_IP $SERVER8_IP \
	     $SERVER9_IP $SERVER10_IP $SERVER11_IP $SERVER12_IP $SERVER13_IP $SERVER14_IP $SERVER15_IP \
             $SERVER16_IP $SERVER17_IP $SERVER18_IP $SERVER19_IP $SERVER20_IP $SERVER21_IP $SERVER22_IP \
             $SERVER23_IP $SERVER24_IP $SERVER25_IP $SERVER26_IP $SERVER27_IP $SERVER28_IP $SERVER29_IP \
             $SERVER30_IP $SERVER31_IP $SERVER32_IP $SERVER33_IP $SERVER34_IP $SERVER35_IP $SERVER36_IP \
	     $SERVER37_IP $SERVER38_IP $SERVER39_IP $SERVER40_IP )
REMOTE_SERVER_IPS=( $SERVER2_IP $SERVER3_IP $SERVER4_IP $SERVER5_IP $SERVER6_IP $SERVER7_IP $SERVER8_IP \
		    $SERVER9_IP $SERVER10_IP $SERVER11_IP $SERVER12_IP $SERVER13_IP $SERVER14_IP $SERVER15_IP \
                    $SERVER16_IP $SERVER17_IP $SERVER18_IP $SERVER19_IP $SERVER20_IP $SERVER21_IP $SERVER22_IP \
                    $SERVER23_IP $SERVER24_IP $SERVER25_IP $SERVER26_IP $SERVER27_IP $SERVER28_IP $SERVER29_IP \
                    $SERVER30_IP $SERVER31_IP $SERVER32_IP $SERVER33_IP $SERVER34_IP $SERVER35_IP $SERVER36_IP \
	            $SERVER37_IP $SERVER38_IP $SERVER39_IP $SERVER40_IP)
SCRIPT_DIR="$( cd -- "$( dirname -- "${BASH_SOURCE[0]}" )" &> /dev/null && pwd )"
NU_DIR=$SCRIPT_DIR/..

function set_bridge {
    sudo bridge fdb add $1 self dev $DPDK_NIC 2>/dev/null
}

function unset_bridge {
    sudo bridge fdb delete $1 self dev $DPDK_NIC 2>/dev/null
}

function to_100g_addr {
    echo `echo $1 | sed "s/10\.10\.2\(.*\)/10\.10\.1\1/g"`
}
